<!DOCTYPE html>
<html >
<head>
    
    <title>Los metodos call, apply y bind</title>
</head>
<body>
    <a href="/ejercicios/index.htm">Go back</a>
    <p><em>Abre la consola</em></p>
    
    <li><button class="call-to-action">Aprender</button></li>
    <li><button class="call-to-action">Aprender m√°s</button></li>
    <li><button class="call-to-action">Nunca parar de aprender</button></li>

    <script>
    //Establece this usando call
    function saludar(){
        console.log(`Hola. Soy ${this.name} ${this.apellido}`);
    }

    const person = {
        name: "Andres",
        apellido: "Torre"
    }

    saludar.call(person)

    function caminar (metros, direccion){
        console.log(`${this.name} camina ${metros} metros hacia ${direccion}. `)
    }
    
    caminar.call(person, 400, "norte")

    //Establece this usando 'apply' y pasar argumentos a la funcion
    const valores = [800, 'noreste']
    caminar.apply(person, valores)

    /* Call - coma
       Apply - Arreglo
    */

    //Establecer this en una nueva funcion usando bind

    const daniel = {name: "Daniel", apellido: "Sanchez"}
    const danielSaluda = saludar.bind(daniel)
    danielSaluda();

    const danielCamina = caminar.bind(daniel, 2000)
    danielCamina("oeste")

    //cuando es util usar uno de estos metodos
    const buttons = document.getElementsByClassName("call-to-action");
    //buttons.forEach(button => {
      //  button.onclick = () =>alert("nunca pares de aprender")
    //})

    Array.prototype.forEach.call(buttons, button => {
         button.onclick = () =>alert("nunca pares de aprender")
      })
</script>
</body>
</html>